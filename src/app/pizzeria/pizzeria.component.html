<div class="container" style="align-content: center; 
           background-image: url('https://images.unsplash.com/photo-1563305589-3c582d447a99?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2061&q=80');
           background-size: cover;">
    <h1 class="text-bg-warning text-uppercase" style="text-align: center;">Pizzeria Liru Sisa 游꼣</h1>
    <form [formGroup]="pizzeriaForm" (ngSubmit)="onSubmit()">
        <!--Empieza formulario de cliente-->
        <div class="row border border-warning border-2">
            <h3 class="text-bg-warning text-uppercase" style="text-align: center;">Datos del cliente</h3>
            <div class="col-4 ">
                <input type="text" id="nombre" name="nombreCliente" required formControlName="nombreCliente"
                    class="form-control border border-2" placeholder="Nombre del cliente">
                <div *ngIf="pizzeriaForm.get('nombreCliente')?.touched && 
                    pizzeriaForm.get('nombreCliente')?.errors?.['required']" class="alert alert-danger">
                    <p class="text-danger">Este campo es requerido <i class="fa fa-close"></i></p>
                </div>
                <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->
                <div *ngIf="pizzeriaForm.get('nombreCliente')?.touched && 
                    pizzeriaForm.get('nombreCliente')?.errors?.['minlength']" class="alert alert-danger">
                    <p class="text-danger">El nombre debe contener m치s de
                        {{pizzeriaForm.get('nombreCliente')?.errors?.['minlength']?.requiredLength}} caracteres
                        <i class="fa fa-close"></i>
                    </p>
                </div>
            </div>

            <div class="col-4 ">
                <input type="text" id="direccionCliente" name="direccionCliente" required
                    formControlName="direccionCliente" class="form-control border border-2" placeholder="Direccion">
                <div *ngIf="pizzeriaForm.get('direccionCliente')?.touched && 
                    pizzeriaForm.get('direccionCliente')?.errors?.['required']" class="alert alert-danger">
                    <p class="text-danger">Este campo es requerido <i class="fa fa-close"></i></p>
                </div>
                <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->
                <div *ngIf="pizzeriaForm.get('direccionCliente')?.touched && 
                    pizzeriaForm.get('direccionCliente')?.errors?.['minlength']" class="alert alert-danger">
                    <p class="text-danger">La direccion debe contener m치s de
                        {{pizzeriaForm.get('direccionCliente')?.errors?.['minlength']?.requiredLength}} caracteres
                        <i class="fa fa-close"></i>
                    </p>
                </div>
            </div>
            <div class="col-4 ">
                <input type="text" id="telefonoCliente" name="telefonoCliente" required
                    formControlName="telefonoCliente" class="form-control border border-2" placeholder="Numero de telefono">
                <div *ngIf="pizzeriaForm.get('telefonoCliente')?.touched && 
                    pizzeriaForm.get('telefonoCliente')?.errors?.['required']" class="alert alert-danger">
                    <p class="text-danger">Este campo es requerido <i class="fa fa-close"></i></p>
                </div>
                <!--XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX-->
                <div *ngIf="pizzeriaForm.get('telefonoCliente')?.touched && 
                    pizzeriaForm.get('telefonoCliente')?.errors?.['minlength']" class="alert alert-danger">
                    <p class="text-danger">El telefono debe contener
                        {{pizzeriaForm.get('telefonoCliente')?.errors?.['minlength']?.requiredLength}} caracteres
                        <i class="fa fa-close"></i>
                    </p>
                </div>
            </div>
            <br>
            <div>
                <p></p>
            </div>
        </div>
        <!--Termina formulario de cliente-->
        <!--Empieza formulario de la pizza-->
        <hr class="border border-2 border-danger">
        <div class="row border border-warning border-2">
            <h3 class="text-bg-warning text-uppercase" style="text-align: center;">Pizza</h3>
            <div class="col-4 ">
                <label for="tamanioSel" class="form-label text-white h6">Tama침o</label>
                <div class="controls">
                    <div class="col-6">
                        <input checked="" name="tamanioSel" type="radio" value="0" formControlName="tamanioSel"/>
                        <label for="tamanioSel-0" class="text-white">Chica $40</label>
                    </div>
                    <div class="col-6">
                        <input name="tamanioSel" type="radio" value="1" formControlName="tamanioSel" />
                        <label for="tamanioSel-1" class="text-white">Mediana $80</label>
                    </div>
                    <div class="col-6">
                        <input name="tamanioSel" type="radio" value="2" formControlName="tamanioSel" />
                        <label for="tamanioSel-2" class="text-white"> Grande $120</label>
                    </div>
                </div>
            </div>
            <div class="col-4 ">
                <label for="ingredientSel" class="form-label text-white h6">Ingredientes</label>
                <div class="controls">
                    <div class="col-6">
                        <input checked="" name="ingredientSel" type="radio" value="0" formControlName="ingredientSel"/>
                        <label for="ingredientSel-0" class="text-white">Jam칩n $10</label>
                    </div>
                    <div class="col-6">
                        <input name="ingredientSel" type="radio" value="1" formControlName="ingredientSel" />
                        <label for="ingredientSel-1" class="text-white">Pi침a $10</label>
                    </div>
                    <div class="col-6">
                        <input name="ingredientSel" type="radio" value="2" formControlName="ingredientSel" />
                        <label for="ingredientSel-2" class="text-white"> Champi침ones $10</label>
                    </div>
                </div>
            </div>
            <div class="col-4 ">
                <input type="number" id="numPizzas" name="numPizzas" required
                    formControlName="numPizzas" class="form-control border border-2" placeholder="Numero de pizzas" min="1">
                <div *ngIf="pizzeriaForm.get('numPizzas')?.touched && 
                    pizzeriaForm.get('numPizzas')?.errors?.['required']" class="alert alert-danger">
                    <p class="text-danger">Este campo es requerido <i class="fa fa-close"></i></p>
                </div><br>
                <div class="d-grid gap-2">
                    <button class="btn btn-warning" type="submit">Registrar Orden <i class="fa fa-save"></i> </button>
                </div>  
            </div>
            <br>
        </div>
        <!--Termina formulario de la pizza-->
    </form>
    <div class="row">
        <br><br>
        <hr class="border border-3 border-danger">
        <div class="alert alert-{{alert}}">
            <p class="text-{{alert}}">
                {{message}}
            </p>
        </div>
        <h3 class="text-warning text-uppercase">Registros <i class="fa fa-users"></i></h3>
        <div class="col-6">
             <table class="table table-dark table-responsive-md table-bordered border border-primary">
            <thead>
                <th>Tama침o</th>
                <th>Ingredientes</th>
                <th>Subtotal</th>
            </thead>
            <tbody>
                <tr *ngFor="let pizza of pizzas">
                    <td>{{pizza['tamanio']['nombre']}}</td>
                    <td>{{pizza['ingrediente']['nombre']}}</td>
                    <td>{{pizza['subtotal']}}</td>
                </tr>
            </tbody>
        </table>
        <button class="btn btn-warning" type="submit" (click)="calcularVenta()">Terminar venta <i class="fa fa-save"></i> </button>
        <button class="btn btn-danger" type="" (click)="borrarPedido()">Eliminar pedido <i class="fa fa-save"></i> </button>
        </div>
        <div class="col-6">
            <div class="alert alert-success" >
                <h2 style="text-align: center;"><b>Ventas del d칤a</b></h2>
                <hr class="border border-2 border-success">
                <div *ngFor="let venta of ventas">
                    <p>{{venta['cliente']}} total ${{venta['total']}}</p>
                    <hr class="border border-2 border-success">
                </div>
                <p style="text-align: center;">Total de ventas: <b>${{totalVentas}} pesos</b></p>
            </div>
        </div> 
    </div>
</div>